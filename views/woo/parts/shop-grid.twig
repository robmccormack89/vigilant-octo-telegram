{% if term_subs is not empty and (function('is_product_cat') == true or function('is_product_series')) == true %} 
  <div class="uk-child-width-1-{{products_grid_columns|e('html_attr')}}@m uk-grid-small uk-flex uk-flex-center" uk-grid>
    {% for term in term_subs %}
      {% include 'tease-term.twig' %}
    {% endfor %}
  </div>
{% elseif term_subs is empty and cats_from_series is not empty and (function('is_product_category') == true or function('is_product_series')) == true %}
  <div class="uk-child-width-1-{{products_grid_columns|e('html_attr')}}@m uk-grid-small uk-flex uk-flex-center" uk-grid>
    {% for new_cat in cats_from_series %}
      {% include 'tease-cat-from-series.twig' %}
    {% endfor %}
  </div>
{% else %}
  <div 
  class="shop-container" 
  uk-grid 
  data-product-cat-obj="{{product_cat_obj}}" 
  data-product-series-obj="{{product_series_obj}}" 
  >
    
    <div class="uk-width-1-4@m uk-visible@m">
      {% include 'shop-filters.twig' %}
    </div>
    
    <div class="uk-width-3-4@m">
      
      {% include 'shop-toolbar.twig' %}

      <div id="ProductsGrid" class="archive-posts products uk-child-width-1-2 uk-child-width-1-{{products_grid_columns|e('html_attr')}}@m uk-grid-small archive-posts" uk-grid="masonry: true">
        {% for post in products %}
         {% include tease_template %}
        {% endfor %}
      </div>
      {% if products is empty %}
        {% do action('woocommerce_no_products_found') %}
      {% endif %}
      {% include 'pagination.twig' with { pagination : products.pagination( { show_all: true, mid_size: 3, end_size: 2 } ) } %}
    
    </div>
    
  </div>
{% endif %}